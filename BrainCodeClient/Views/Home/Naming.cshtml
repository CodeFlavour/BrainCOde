<style>
    #mainAlleCoImage {
        width: 300px;
        height: 100px;
    }

    #searchInputMy {
        border: 3px solid green;
        margin: auto;
        width: 95% !important;
        height: 40px;
    }

    #searchButton {
        border: 3px solid #2b2f49;
        margin: auto;
        width: 90% !important;
        height: 40px;
    }

    .nopadding {
        padding: 0 !important;
        margin: 0 !important;
    }

    .alleCenterImageDiv {
        position: absolute;
        left: 50%;
        transform: translateX(-50%);
        -webkit-transform: translateX(-50%);
    }

    .alleImage {
        height: 30px;
        width: 170px;
    }

    .hrBreakLine {
        border: 2px solid #f38148;
    }

</style>

@{ 
    ViewBag.Title = "Alle Jak Nazwać?";
}

<!-- Wyszukiwanie-->
<div class="row">
    <div class="col-lg-4" id="mainAlleCoImage">
        <img src="~/images/vizualization/alejaknazwacCollapsed.png" id="mainAlleCoImage" />
    </div>
    <div class="col-lg-6 .nopadding">
        <div style="padding-top:33px;">
            <input type="text" id="searchInputMy" class="form-control" placeholder="Szukasz...?">
        </div>
    </div>
        
    <div class="col-lg-2 .nopadding" style="padding-top:33px;">
        <button type="button" class="btn btn-default" id="searchButton">
            <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
        </button>
    </div>
</div>

<div class="row">
    <div class="col-md-4 col-xs-12" style="font-weight:bold">Zakres cen:</div></div>
    <div id="range" class="col-md-8 col-xs-12"></div>
</div>

@section scripts
{
    <script>
        var range = document.getElementById('range');

        range.style.width = '90%';
        range.style.margin = '0 auto 30px';

        noUiSlider.create(range, {
            start: [500,100], // 4 handles, starting at...
            margin: 300, // Handles must be at least 300 apart
            limit: 1500, // ... but no more than 600
            connect: true, // Display a colored bar between the handles
            direction: 'ltr', // Put '0' at the bottom of the slider
            orientation: 'horizontal', // Orient the slider vertically
            behaviour: 'tap-drag', // Move handle on tap, bar is draggable
            step: 100,
            tooltips: false,
            range: {
                'min': 0,
                'max': 3000
            },
            pips: { // Show a scale with the slider
                mode: 'steps',
                stepped: true,
                density: 4
            }
        });

        $("#searchButton").click(function () {
            var link = "http://localhost:60235/api/statistics";


            $.get(link, {
                phrase: $("#searchInputMy").val(), pricefrom: range.noUiSlider.get()[0], priceto: range.noUiSlider.get()[1]})
                .done(function (data) {
                    alert("Data Loaded: " + data);
                });
        });

    </script>
}



